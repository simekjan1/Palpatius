<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blackjack</title>
     <link rel="stylesheet" href="../../assets/css/tailwind.css">
    
    <link rel="stylesheet" href="../../assets/css/fonts.css">
    <link rel="stylesheet" href="../../assets/css/core.css">
    <link rel="stylesheet" href="../../assets/css/main.css">
    
    <link rel="stylesheet" href="style.css"> 
</head>
<body>
    <a href="../../index.html" class="back-to-dashboard-link" aria-label="Zpět na Palpatius">← Zpět na Palpatius</a>

    <div class="game-container" role="application" aria-label="Blackjack hra">
        <h1 class="text-3xl font-bold text-center w-full mb-4">Blackjack</h1>

        <div class="hand-section" aria-labelledby="dealer-heading">
            <h2 id="dealer-heading" class="text-xl font-semibold mb-2">Karty dealera: <span id="dealer-score" aria-live="polite" aria-atomic="true">0</span></h2>
            <div id="dealer-cards" class="cards-display" role="group" aria-label="Karty dealera">
            </div>
        </div>

        <div class="hand-section" aria-labelledby="player-heading">
            <h2 id="player-heading" class="text-xl font-semibold mb-2">Tvoje karty: <span id="player-score" aria-live="polite" aria-atomic="true">0</span></h2>
            <div id="player-cards" class="cards-display" role="group" aria-label="Tvoje karty">
            </div>
        </div>

        <div id="game-message" class="message-box w-full" role="status" aria-live="assertive" aria-atomic="true">
        </div>

        <div class="flex justify-center w-full gap-4 mt-4">
            <div class="score-display">Výhry: <span id="wins-score" aria-live="polite" aria-atomic="true">0</span></div>
            <div class="score-display">Prohry: <span id="losses-score" aria-live="polite" aria-atomic="true">0</span></div>
        </div>

        <div class="game-actions w-full flex justify-center gap-4 mt-4">
            <button id="hit-btn" aria-label="Vzít další kartu" disabled>Vzít kartu</button>
            <button id="stand-btn" aria-label="Zůstat s aktuálními kartami" disabled>Zůstat</button>
            <button id="double-down-btn" aria-label="Zdvojnásobit sázku" disabled>Double Down</button>
        </div>

        <div class="controls w-full flex justify-center gap-4 mt-4">
            <button id="new-game-btn" aria-label="Nová hra">Nová hra</button>
            <button id="save-game-btn" aria-label="Uložit aktuální hru do souboru">Uložit hru</button>
            <button id="load-game-btn" aria-label="Načíst hru ze souboru">Načíst hru</button>
            <button id="help-btn" aria-label="Zobrazit nápovědu">Nápověda</button>
            <input type="file" id="load-file-input" accept=".json" style="display: none;" aria-hidden="true">
        </div>
    </div>
    
    <div id="helpModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="helpModalTitle" tabindex="-1">
        <div class="modal-content">
            <h3 id="helpModalTitle">Pravidla hry Blackjack</h3>
            <p>
                Cílem hry je získat skóre co nejblíže 21, aniž bys ho překročil. Soutěžíš s dealerem.
            </p>
            <ul>
                <li>**Hodnoty karet:** Karty 2-10 mají svou číselnou hodnotu. Karty J, Q, K mají hodnotu 10. Eso (A) má hodnotu 11 nebo 1 (přepočítá se automaticky).</li>
                <li>**Tvůj tah:** Máš na výběr z několika akcí:
                    <ul>
                        <li>**Vzít kartu (Hit):** Vezmeš si další kartu. Můžeš to dělat, dokud nepřekročíš 21.</li>
                        <li>**Zůstat (Stand):** Ukončíš svůj tah a čekáš, až hraje dealer.</li>
                        <li>**Double Down:** Zdvojnásobíš sázku a vezmeš si přesně jednu další kartu. Poté tvůj tah končí. Tato možnost je dostupná pouze na začátku tahu.</li>
                    </ul>
                </li>
                <li>**Tah dealera:** Dealer bere karty, dokud jeho skóre nedosáhne alespoň 17.</li>
                <li>**Výhra:** Vyhráváš, pokud máš vyšší skóre než dealer, nebo pokud dealer překročí 21.</li>
                <li>**Prohra:** Prohráváš, pokud tvé skóre překročí 21, nebo pokud má dealer vyšší skóre než ty.</li>
                <li>**Remíza (Push):** Pokud máte s dealerem stejné skóre, je to remíza.</li>
            </ul>
            <div class="modal-buttons">
                <button id="closeHelpModalBtn">Rozumím, zavřít</button>
            </div>
        </div>
    </div>

<script src="../../assets/js/utils.js"></script>
<script src="../../assets/js/ui.js"></script>
<script src="script.js"></script>
</body>
</html>