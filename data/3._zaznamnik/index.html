<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Centr√°ln√≠ z√°znamn√≠k</title>
    <link rel="stylesheet" href="../../assets/css/tailwind.css">
    
    <link rel="stylesheet" href="../../assets/css/fonts.css">
    <link rel="stylesheet" href="../../assets/css/core.css">
    <link rel="stylesheet" href="../../assets/css/main.css">
    
    <link rel="stylesheet" href="style.css"> 
</head>
<body>
    <div class="container">
<nav class="module-nav" aria-label="Hlavn√≠ navigace">
    <ul>
            <li><a href="../../data/1._maserna/index.html" data-module="maserna">Mas√©rna</a></li>
            <li><a href="../../data/2._financni_spravce/index.html" data-module="finance">Finance</a></li>
            <li><a href="../../data/3._zaznamnik/index.html" data-module="zaznamnik">Z√°znamn√≠k</a></li>
            <li><a href="../../data/4._knihovna/index.html" data-module="knihovna">Knihovna</a></li>
            <li><a href="../../data/5._financni_spravce_extra/index.html" data-module="finanƒçn√≠ spr√°vce Extra">Finanƒçn√≠ spr√°vce Extra</a></li>
            <li><a href="../../data/6._data_manager/index.html" data-module="data manager">Data Manager</a></li>
            <li><a href="../../data/7._dokumentace/index.html" data-module="dokumentace">Dokumentace</a></li>
    </ul>
</nav>

        <h1 id="mainTitle">Centr√°ln√≠ z√°znamn√≠k</h1>

        <div class="flex items-center justify-between mb-6" id="globalControls">
            <button class="btn-export" onclick="exportAllData()">Exportovat v≈°e (JSON)</button>
            <label class="ml-4 btn-import">
                Importovat v≈°e (JSON):
                <input type="file" onchange="importAllData(event)" accept=".json" aria-label="Vybrat soubor pro import dat"/>
            </label>
            <button class="btn-help" onclick="openHelpModal()">N√°povƒõda a n√°vod</button>
        </div>

        <div class="flex flex-wrap justify-center mb-6" id="addButtonsSection">
            <button class="btn-toggle-form" onclick="toggleForm('noteFormSection')" aria-controls="noteFormSection" aria-expanded="false">P≈ôidat pozn√°mku</button>
            <button class="btn-toggle-form" onclick="toggleForm('todoListFormSection')" aria-controls="todoListFormSection" aria-expanded="false">P≈ôidat To-Do List</button>
            <button class="btn-toggle-form" onclick="toggleForm('eventFormSection')" aria-controls="eventFormSection" aria-expanded="false">P≈ôidat ud√°lost</button>
            <button class="btn-toggle-form" onclick="toggleForm('ideaFormSection')" aria-controls="ideaFormSection" aria-expanded="false">P≈ôidat n√°pad</button>
        </div>

        <div id="noteFormSection" class="form-section hidden">
            <h2>P≈ôidat pozn√°mku</h2>
            <label for="noteTitle">N√°zev pozn√°mky:</label>
            <input type="text" id="noteTitle" placeholder="Nap≈ô. D≈Øle≈æit√© pozn√°mky ze ≈°kolen√≠" aria-label="N√°zev pozn√°mky" required />
            <label for="noteClientSelect" class="mt-4">P≈ôidat ke klientovi (nepovinn√©):</label>
            <select id="noteClientSelect" class="w-full"><option value="">-- Vyberte klienta --</option></select>
            <label for="noteText">Text pozn√°mky:</label>
            <textarea id="noteText" placeholder="Sem napi≈°te text pozn√°mky..." aria-label="Text pozn√°mky" required></textarea>
            <button class="btn-primary" onclick="addNote()">P≈ôidat pozn√°mku</button>
        </div>
        <div id="todoListFormSection" class="form-section hidden">
            <h2>P≈ôidat nov√Ω To-Do List</h2>
            <label for="newListName">N√°zev listu:</label>
            <input type="text" id="newListName" placeholder="Nap≈ô. Pr√°ce, Osobn√≠, N√°kup" aria-label="N√°zev To-Do listu" required />
            <button class="btn-primary" onclick="addTodoList()">Vytvo≈ôit list</button>
        </div>
        <div id="todoFormSection" class="form-section hidden">
            <h2>P≈ôidat √∫kol do listu</h2>
            <label for="taskClientSelect" class="mt-4">P≈ôidat ke klientovi (nepovinn√©):</label>
            <select id="taskClientSelect" class="w-full"><option value="">-- Vyberte klienta --</option></select>
            <label for="taskText">Popis √∫kolu:</label>
            <input type="text" id="taskText" placeholder="Nap≈ô. Zavolat dodavateli ohlednƒõ oleje" aria-label="Popis √∫kolu" required />
            <label for="taskDueDate">Term√≠n (datum):</label>
            <input type="date" id="taskDueDate" aria-label="Term√≠n √∫kolu" />
            <label for="taskPriority">Priorita:</label>
            <select id="taskPriority" aria-label="Priorita √∫kolu">
                <option value="n√≠zk√°">N√≠zk√°</option>
                <option value="st≈ôedn√≠">St≈ôedn√≠</option>
                <option value="vysok√°">Vysok√°</option>
            </select>
            <button class="btn-primary" onclick="addTask()">P≈ôidat √∫kol</button>
        </div>
        <div id="eventFormSection" class="form-section hidden">
            <h2>P≈ôidat ud√°lost</h2>
            <label for="eventClientSelect" class="mt-4">P≈ôidat ke klientovi (nepovinn√©):</label>
            <select id="eventClientSelect" class="w-full"><option value="">-- Vyberte klienta --</option></select>
            <label for="eventDate">Datum ud√°losti:</label>
            <input type="date" id="eventDate" aria-label="Datum ud√°losti" required />
            <label for="eventTime">ƒåas ud√°losti:</label>
            <input type="time" id="eventTime" aria-label="ƒåas ud√°losti" required />
            <label for="eventTitle">N√°zev ud√°losti:</label>
            <input type="text" id="eventTitle" placeholder="Nap≈ô. Endokrinologie kontrola" aria-label="N√°zev ud√°losti" required />
            <label for="eventDescription">Popis ud√°losti / Pozn√°mky:</label>
            <textarea id="eventDescription" placeholder="Detailn√≠ popis ud√°losti..." aria-label="Popis ud√°losti"></textarea>
            <button class="btn-primary" onclick="addEvent()">P≈ôidat ud√°lost</button>
        </div>
        <div id="ideaFormSection" class="form-section hidden">
            <h2>P≈ôidat n√°pad</h2>
            <label for="ideaTitle">N√°zev n√°padu:</label>
            <input type="text" id="ideaTitle" placeholder="Nap≈ô. Nov√° slu≈æba pro klienty" aria-label="N√°zev n√°padu" required />
            <label for="ideaClientSelect" class="mt-4">P≈ôidat ke klientovi (nepovinn√©):</label>
            <select id="ideaClientSelect" class="w-full"><option value="">-- Vyberte klienta --</option></select>
            <label for="ideaDescription">Popis n√°padu / detailn√≠ pozn√°mky:</label>
            <textarea id="ideaDescription" placeholder="Rozveƒète sv≈Øj n√°pad..." aria-label="Popis n√°padu" required></textarea>
            <label for="ideaCategory">Kategorie n√°padu:</label>
            <select id="ideaCategory" aria-label="Kategorie n√°padu">
                <option value="Obecn√©">Obecn√©</option>
                <option value="Marketing">Marketing</option>
                <option value="Slu≈æby">Nov√© slu≈æby</option>
                <option value="Studio">Vylep≈°en√≠ studia</option>
                <option value="AI">AI a technologie</option>
                <option value="Ostatn√≠">Ostatn√≠</option>
            </select>
            <button class="btn-primary" onclick="addIdea()">P≈ôidat n√°pad</button>
        </div>
        
        <div class="filter-section">
            <label for="globalFilterInput" class="sr-only">Filtruj z√°znamy:</label>
            <input type="text" id="globalFilterInput" placeholder="Filtruj z√°znamy (n√°zev, popis, term√≠n, kategorie...)" oninput="updateTable()" aria-label="Filtrovat z√°znamy" />
            <button class="btn-filter" onclick="clearFilter()">Zru≈°it filtr</button>
        </div>
        <div class="flex flex-wrap justify-center my-4 gap-2">
            <button class="btn-toggle-filter" data-filter="all">V≈°echny</button>
            <button class="btn-toggle-filter" data-filter="note">Pozn√°mky</button>
            <button class="btn-toggle-filter" data-filter="todo_list">√ökoly</button>
            <button class="btn-toggle-filter" data-filter="event">Ud√°losti</button>
            <button class="btn-toggle-filter" data-filter="idea">N√°pady</button>
        </div>
        <table id="mainDataTable">
            <thead>
                <tr>
                    <th scope="col" data-sort="type">Typ</th>
                    <th scope="col" data-sort="clientName">Klient</th>
                    <th scope="col" data-sort="title">N√°zev/Popis</th>
                    <th scope="col">Detail/Term√≠n</th>
                    <th scope="col" data-sort="category">Kategorie/Priorita</th>
                    <th scope="col">Akce</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>

<div id="customMessageModal" class="modal" style="display: none;" 
     role="dialog" 
     aria-modal="true" 
     aria-labelledby="modalMessageTitle" 
     aria-describedby="modalMessage">

    <div class="modal-content">
        <h3 id="modalMessageTitle" class="text-xl font-bold text-yellow-300 mb-4">Zpr√°va</h3>
        <p id="modalMessage" class="text-gray-300 mb-4"></p>
        <div class="modal-buttons">
            <button id="modalOkButton" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md">OK</button>
            <button id="modalCancelButton" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md ml-2 hidden">Zru≈°it</button>
        </div>
    </div>
</div>
        <div id="ideaActionsModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="ideaActionsTitle" tabindex="-1">
            <div class="modal-content">
                <h3 id="ideaActionsTitle" class="text-xl font-bold text-yellow-300 mb-4">N√°pad byl p≈ôid√°n. Co d√°l?</h3>
                <p id="ideaActionsText" class="text-gray-300 mb-4">M√°te nov√© mo≈ænosti pro tento n√°pad:</p>
                <div class="modal-buttons flex justify-center gap-4 mt-6">
                    <button id="addIdeaToPricelistBtn" class="btn-primary">P≈ôidat do cen√≠ku v Mas√©rnƒõ</button>
                    <button id="addIdeaToTodoBtn" class="btn-secondary">P≈ôidat jako √∫kol</button>
                    <button id="closeIdeaActionsModalBtn" class="btn-back">Hotovo</button>
                </div>
            </div>
        </div>
        <div id="todoListDetailSection" class="hidden container-fluid bg-gray-900 p-8 rounded-lg shadow-lg text-left text-gray-200 mb-12">
            <a href="#" onclick="goBackToMainView()" class="back-to-dashboard-link mb-6">‚Üê Zpƒõt na hlavn√≠ p≈ôehled</a>
            <h2 id="currentTodoListName"></h2>
            <div id="todoListTasksTableContainer">
                <table id="todoListTasksTable">
                    <thead>
                        <tr>
                            <th scope="col">Splnƒõno</th>
                            <th scope="col">Klient</th>
                            <th scope="col" data-sort="text">Popis √∫kolu</th>
                            <th scope="col" data-sort="dueDate">Term√≠n</th>
                            <th scope="col" data-sort="priority">Priorita</th>
                            <th scope="col">Akce</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
            <div class="text-center mt-6">
                <button class="btn-primary" onclick="showAddTodoTaskForm()">P≈ôidat nov√Ω √∫kol do listu</button>
            </div>
        </div>
        <div id="helpModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="helpModalTitle" tabindex="-1">
            <div class="modal-content" style="max-width: 800px; text-align: left;">
                <h3 id="helpModalTitle" style="color: #facc15; font-size: 1.5rem; text-align: left;">N√°povƒõda k Z√°znamn√≠ku</h3>
                <div id="helpContent" style="max-height: 60vh; overflow-y: auto; padding-right: 15px;">
                    <h4>üß† Mozek cel√© operace</h4>
                    <p>Tento modul je centr√°ln√≠ m√≠sto pro v≈°echny tv√© my≈°lenky, √∫koly a pl√°ny. Je propojen√Ω s modulem <strong>Mas√©rna</strong>, tak≈æe m≈Ø≈æe≈° z√°znamy p≈ôi≈ôazovat p≈ô√≠mo ke klient≈Øm.</p>
                    <p><strong>D≈ÆLE≈ΩIT√â:</strong> I zde plat√≠, ≈æe je dobr√© pravidelnƒõ z√°lohovat data pomoc√≠ tlaƒç√≠tka <strong>"Exportovat v≈°e (JSON)"</strong>.</p>
                    <h4>‚ûï P≈ôid√°v√°n√≠ z√°znam≈Ø</h4>
                    <p>M≈Ø≈æe≈° vytv√°≈ôet 4 typy z√°znam≈Ø:</p>
                    <ul>
                        <li><strong>üìù Pozn√°mka:</strong> Pro jak√Ωkoliv del≈°√≠ text, post≈ôehy ze ≈°kolen√≠ nebo my≈°lenky.</li>
                        <li><strong>‚úÖ To-Do List:</strong> Nejd≈ô√≠ve vytvo≈ô√≠≈° "seznam" (nap≈ô. N√°kup, Pr√°ce) a do nƒõj pak p≈ôid√°v√°≈° jednotliv√© √∫koly.</li>
                        <li><strong>üóìÔ∏è Ud√°lost:</strong> Pro sch≈Øzky, kontroly u l√©ka≈ôe nebo cokoliv, co m√° p≈ôesn√© datum a ƒças.</li>
                        <li><strong>üí° N√°pad:</strong> Zlat√Ω d≈Øl! Ka≈æd√Ω n√°pad m≈Ø≈æe≈° pozdƒõji p≈ôemƒõnit na nƒõco dal≈°√≠ho.</li>
                    </ul>
                    <h4>üöÄ Speci√°ln√≠ funkce</h4>
                    <ul>
                        <li><strong>Propojen√≠ s klienty:</strong> P≈ôi tvorbƒõ pozn√°mky, √∫kolu, ud√°losti nebo n√°padu si m≈Ø≈æe≈° z roletky vybrat existuj√≠c√≠ho klienta z modulu Mas√©rna.</li>
                        <li><strong>Akce u n√°pad≈Ø:</strong> Kdy≈æ p≈ôid√°≈° nov√Ω n√°pad, syst√©m ti nab√≠dne dvƒõ akce:
                            <ul>
                                <li><strong>P≈ôidat do cen√≠ku:</strong> N√°pad se automaticky po≈°le do modulu Mas√©rna jako nov√° polo≈æka v cen√≠ku. Pak u≈æ jen staƒç√≠ doplnit cenu a d√©lku.</li>
                                <li><strong>P≈ôidat jako √∫kol:</strong> N√°pad se automaticky p≈ôid√° jako nov√Ω √∫kol do tv√©ho prvn√≠ho To-Do listu.</li>
                            </ul>
                        </li>
                    </ul>
                    <h4>üìã Pr√°ce s tabulkami</h4>
                    <ul>
                        <li><strong>Filtrov√°n√≠ podle typu:</strong> Pomoc√≠ tlaƒç√≠tek (V≈°echny, Pozn√°mky, √ökoly...) si m≈Ø≈æe≈° zobrazit jen ten typ z√°znamu, kter√Ω tƒõ zaj√≠m√°.</li>
                        <li><strong>Detail To-Do listu:</strong> Kdy≈æ v hlavn√≠ tabulce klikne≈° na n√°zev To-Do listu, p≈ôepne≈° se do detailn√≠ho zobrazen√≠, kde vid√≠≈° a spravuje≈° jen √∫koly v dan√©m seznamu.</li>
                    </ul>
                </div>
                <div class="modal-buttons" style="margin-top: 1rem;">
                    <button class="btn-back" onclick="closeHelpModal()">Zav≈ô√≠t</button>
                </div>
            </div>
        </div>
    </div>

<script src="../../assets/js/utils.js"></script>
<script src="../../assets/js/ui.js"></script>
<script src="script.js"></script>
</body>
</html>